<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC '-//ibatis.apache.org//DTD Sql Map 2.0//EN'
'http://ibatis.apache.org/dtd/sql-map-2.dtd'>

<sqlMap>
	<typeAlias alias="order_hotel" type="order.Order_Hotel" />
	<typeAlias alias="order_tour" type="order.Order_Tour" />
	<typeAlias alias="order_air" type="order.Order_Air" />
<!-- 	
	<resultMap id="order_hotleRes" class="order_hotel">
		<result property="no" column="no" />
		<result property="name" column="name" />
		<result property="price" column="price" />
		<result property="content" column="content" />
		<result property="country" column="country" />
		<result property="region" column="region" />
		<result property="image1" column="image1" />
		<result property="tel" column="tel" />
		<result property="checkin" column="checkin" />
		<result property="checkout" column="checkout" />
		<result property="people" column="people" />
		<result property="room" column="room" /> 
		<result property="id" column="id" />
	</resultMap>
	
	<resultMap id="order_tourRes" class="order_tour">
		<result property="no" column="no" />
		<result property="name" column="name" />
		<result property="price" column="price" />
		<result property="content" column="content" />
		<result property="country" column="country" />
		<result property="region" column="region" />
		<result property="image1" column="image1" />
		<result property="amount" column="amount" />
		<result property="id" column="id" />
	</resultMap>
	
	<resultMap id="order_airRes" class="order_air">
		<result property="no" column="no" />
		<result property="arv" column="arv"/>
		<result property="dep" column="dep"/>
		<result property="price" column="price" />
		<result property="content" column="content" />
		<result property="image1" column="image1" />
		<result property="people" column="people" />
		<result property="seat_grade" column="seat_grade" />
		<result property="ad" column="ad" />
		<result property="dd" column="dd" />
		<result property="air_company" column="air_company" />
		<result property="id" column="id" />
	</resultMap> -->
	
<sql id="select-allo">
	SELECT * FROM ORDER_HOTEL
</sql>
	
	<!-- 구매한 호텔 상품을 구매내역 테이블에 저장 -->
	<insert id="putorder_H" parameterClass="java.util.Map">
		INSERT INTO order_hotel
		(no, name, price, content, country, region, image1, tel, checkin,
		 checkout, people, room, id, reg_date)
		VALUES (#no#, #name#, #price#,#content#, #country#, #region#, #image1#, #tel#, #checkin#,
		 #checkout#, #maxnum#, #room#, #id#, sysdate)
	</insert>
	
	<insert id="putorder_T" parameterClass="java.util.Map">
		INSERT INTO order_tour
		(no, name, price, content, country, region, image1, amount, id, reg_date)
		VALUES (#no#, #name#, #price#,#content#, #country#, #region#, #image1#, #amount#, #id#, sysdate)
	</insert>
	
	<insert id="putorder_A" parameterClass="order_air">
		INSERT INTO order_air
		(no, arv, dep, price, content, image1, people, seat_grade, ad, dd, air_company, id, reg_date)
		VALUES (#no#, #arv#, #dep#, #price#, #content#, #image1#, #people#, #seat_grade#, #ad#, #dd#, #air_company#, #id#, sysdate)
	</insert>
	


<!-- 	세션 id값에 해당하는 구매내역 테이블의 정보를 가져온다.
	<select id="selectorder" resultMap="orderRes" parameterClass="ordervo">
		SELECT * FROM ordervo WHERE id = #id#
	</select>
	
	
		구매내역  삭제
	<delete id="deleteorder" parameterClass="ordervo">
		DELETE FROM ordervo WHERE no = #no# and id = #id#
	</delete>
	
	구매내역 날짜 수정
	<update id="ModifyOrder" parameterClass="ordervo">
	  UPDATE ordervo SET day=#day#, checkin=#checkin#, checkout=#checkout#, ad=#ad#, dd=#dd#
	  <include refid="where-Ido" />
	</update> -->
	
	

</sqlMap>